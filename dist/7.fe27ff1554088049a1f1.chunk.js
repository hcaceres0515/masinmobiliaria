webpackJsonp([7],{1462:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(14),a=n(354),r=n(355),l=n(1629),s=n(715),d=(n.n(s),n(13)),u=n(1474),c=(n.n(u),n(1532)),p=n(1531),m=n(356),h=n(716);n.d(t,"UsersModule",(function(){return f}));var f=(function(){function e(){}return e=__decorate([n.i(o.NgModule)({imports:[i.CommonModule,a.a,d.FormsModule,s.Ng2SmartTableModule,u.NguiAutoCompleteModule,r.a.forRoot(),r.b.forRoot(),r.c.forRoot(),l.a,h.a],entryComponents:[p.a],declarations:[c.a,p.b,p.a],providers:[m.a]}),__metadata("design:paramtypes",[])],e)})()},1464:function(e,t,n){"use strict";var o=n(0),i=n(1465),a=(function(){function e(e,t){var n=this;this.autoComplete=t,this.minChars=0,this.loadingText="Loading",this.loadingTemplate=null,this.showInputTag=!0,this.showDropdownOnInit=!1,this.tabToSelect=!0,this.matchFormatted=!1,this.valueSelected=new o.EventEmitter,this.dropdownVisible=!1,this.isLoading=!1,this.filteredList=[],this.minCharsEntered=!1,this.itemIndex=0,this.reloadListInDelay=function(e){var t=n.isSrcArr()?10:500,o=e.target.value;n.delay((function(){return n.reloadList(o)}),t)},this.inputElKeyHandler=function(e){var t=n.filteredList.length;switch(e.keyCode){case 27:break;case 38:n.itemIndex=(t+n.itemIndex-1)%t,n.scrollToView(n.itemIndex);break;case 40:n.dropdownVisible=!0,n.itemIndex=(t+n.itemIndex+1)%t,n.scrollToView(n.itemIndex);break;case 13:n.filteredList.length>0&&n.selectOne(n.filteredList[n.itemIndex]),e.preventDefault();break;case 9:n.tabToSelect&&n.filteredList.length>0&&n.selectOne(n.filteredList[n.itemIndex])}},this.delay=(function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}})(),this.el=e.nativeElement}return e.prototype.isSrcArr=function(){return"Array"===this.source.constructor.name},e.prototype.ngOnInit=function(){var e=this;this.autoComplete.source=this.source,this.autoComplete.pathToData=this.pathToData,this.autoComplete.listFormatter=this.listFormatter,setTimeout((function(){e.autoCompleteInput&&e.autoCompleteInput.nativeElement.focus(),e.showDropdownOnInit&&e.showDropdownList({target:{value:""}})}))},e.prototype.showDropdownList=function(e){this.dropdownVisible=!0,this.reloadList(e.target.value)},e.prototype.hideDropdownList=function(){this.dropdownVisible=!1},e.prototype.findItemFromSelectValue=function(e){var t=this.filteredList.filter((function(t){return""+t===e}));return t.length?t[0]:null},e.prototype.reloadList=function(e){var t=this;if(this.filteredList=[],e.length<(this.minChars||0))return void(this.minCharsEntered=!1);this.minCharsEntered=!0,this.isSrcArr()?(this.isLoading=!1,this.filteredList=this.autoComplete.filter(this.source,e,this.matchFormatted),this.maxNumList&&(this.filteredList=this.filteredList.slice(0,this.maxNumList))):(this.isLoading=!0,"function"==typeof this.source?this.source(e).subscribe((function(e){if(t.pathToData){t.pathToData.split(".").forEach((function(t){return e=e[t]}))}t.filteredList=e,t.maxNumList&&(t.filteredList=t.filteredList.slice(0,t.maxNumList))}),(function(e){return null}),(function(){return t.isLoading=!1})):this.autoComplete.getRemoteData(e).subscribe((function(e){t.filteredList=e?e:[],t.maxNumList&&(t.filteredList=t.filteredList.slice(0,t.maxNumList))}),(function(e){return null}),(function(){return t.isLoading=!1})))},e.prototype.selectOne=function(e){this.valueSelected.emit(e)},e.prototype.scrollToView=function(e){var t=this.autoCompleteContainer.nativeElement,n=t.querySelector("ul"),o=n.querySelector("li"),i=o.offsetHeight,a=n.scrollTop,r=a+n.offsetHeight,l=i*e;(l<a||l+i>r)&&(n.scrollTop=l)},Object.defineProperty(e.prototype,"emptyList",{get:function(){return!(this.isLoading||this.minCharsEntered&&!this.isLoading&&!this.filteredList.length||this.filteredList.length)},enumerable:!0,configurable:!0}),e.decorators=[{type:o.Component,args:[{selector:"ngui-auto-complete",template:'\n  <div #autoCompleteContainer class="ngui-auto-complete">\n    <!-- keyword input -->\n    <input *ngIf="showInputTag"\n           #autoCompleteInput class="keyword"\n           placeholder="{{placeholder}}"\n           (focus)="showDropdownList($event)"\n           (blur)="hideDropdownList()"\n           (keydown)="inputElKeyHandler($event)"\n           (input)="reloadListInDelay($event)"\n           [(ngModel)]="keyword" />\n\n    <!-- dropdown that user can select -->\n    <ul *ngIf="dropdownVisible" [class.empty]="emptyList">\n      <li *ngIf="isLoading && loadingTemplate" class="loading" [innerHTML]="loadingTemplate"></li>\n      <li *ngIf="isLoading && !loadingTemplate" class="loading">{{loadingText}}</li>\n      <li *ngIf="minCharsEntered && !isLoading && !filteredList.length"\n           (mousedown)="selectOne(\'\')"\n           class="no-match-found">{{noMatchFoundText || \'No Result Found\'}}</li>\n      <li *ngIf="blankOptionText && filteredList.length"\n          (mousedown)="selectOne(\'\')"\n          class="blank-item">{{blankOptionText}}</li>\n      <li class="item"\n          *ngFor="let item of filteredList; let i=index"\n          (mousedown)="selectOne(item)"\n          [ngClass]="{selected: i === itemIndex}"\n          [innerHtml]="autoComplete.getFormattedListItem(item)">\n      </li>\n    </ul>\n\n  </div>',providers:[i.NguiAutoComplete],styles:["\n  @keyframes slideDown {\n    0% {\n      transform:  translateY(-10px);\n    }\n    100% {\n      transform: translateY(0px);\n    }\n  }\n  .ngui-auto-complete {\n    background-color: transparent;\n  }\n  .ngui-auto-complete > input {\n    outline: none;\n    border: 0;\n    padding: 2px; \n    box-sizing: border-box;\n    background-clip: content-box;\n  }\n\n  .ngui-auto-complete > ul {\n    background-color: #fff;\n    margin: 0;\n    width : 100%;\n    overflow-y: auto;\n    list-style-type: none;\n    padding: 0;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n    animation: slideDown 0.1s;\n  }\n  .ngui-auto-complete > ul.empty {\n    display: none;\n  }\n\n  .ngui-auto-complete > ul li {\n    padding: 2px 5px;\n    border-bottom: 1px solid #eee;\n  }\n\n  .ngui-auto-complete > ul li.selected {\n    background-color: #ccc;\n  }\n\n  .ngui-auto-complete > ul li:last-child {\n    border-bottom: none;\n  }\n\n  .ngui-auto-complete > ul li:hover {\n    background-color: #ccc;\n  }"],encapsulation:o.ViewEncapsulation.None}]}],e.ctorParameters=[{type:o.ElementRef},{type:i.NguiAutoComplete}],e.propDecorators={listFormatter:[{type:o.Input,args:["list-formatter"]}],source:[{type:o.Input,args:["source"]}],pathToData:[{type:o.Input,args:["path-to-data"]}],minChars:[{type:o.Input,args:["min-chars"]}],placeholder:[{type:o.Input,args:["placeholder"]}],blankOptionText:[{type:o.Input,args:["blank-option-text"]}],noMatchFoundText:[{type:o.Input,args:["no-match-found-text"]}],acceptUserInput:[{type:o.Input,args:["accept-user-input"]}],loadingText:[{type:o.Input,args:["loading-text"]}],loadingTemplate:[{type:o.Input,args:["loading-template"]}],maxNumList:[{type:o.Input,args:["max-num-list"]}],showInputTag:[{type:o.Input,args:["show-input-tag"]}],showDropdownOnInit:[{type:o.Input,args:["show-dropdown-on-init"]}],tabToSelect:[{type:o.Input,args:["tab-to-select"]}],matchFormatted:[{type:o.Input,args:["match-formatted"]}],valueSelected:[{type:o.Output}],autoCompleteInput:[{type:o.ViewChild,args:["autoCompleteInput"]}],autoCompleteContainer:[{type:o.ViewChild,args:["autoCompleteContainer"]}]},e})();t.NguiAutoCompleteComponent=a},1465:function(e,t,n){"use strict";var o=n(0),i=n(42);n(102);var a=(function(){function e(e){this.http=e}return e.prototype.filter=function(e,t,n){var o=this;return e.filter((function(e){var i=n?o.getFormattedListItem(e).toLowerCase():JSON.stringify(e).toLowerCase();return t=t.toLowerCase(),i.indexOf(t)!==-1}))},e.prototype.getFormattedListItem=function(e){var t,n=this.listFormatter||"(id) value";if("function"==typeof n)t=n.apply(this,[e]);else if("object"!=typeof e)t=e;else if("string"==typeof n){t=n;var o=n.match(/[a-zA-Z0-9_\$]+/g);o&&"string"!=typeof e&&o.forEach((function(n){t=t.replace(n,e[n])}))}return t},e.prototype.getRemoteData=function(e){var t=this;if("string"!=typeof this.source)throw"Invalid type of source, must be a string. e.g. http://www.google.com?q=:my_keyword";if(!this.http)throw"Http is required.";var n=this.source.match(/:[a-zA-Z_]+/);if(null===n)throw"Replacement word is missing.";var o=n[0],i=this.source.replace(o,e);return this.http.get(i).map((function(e){return e.json()})).map((function(e){var n=e.data||e;if(t.pathToData){t.pathToData.split(".").forEach((function(e){return n=n[e]}))}return n}))},e.decorators=[{type:o.Injectable}],e.ctorParameters=[{type:i.Http,decorators:[{type:o.Optional}]}],e})();t.NguiAutoComplete=a},1470:function(e,t,n){"use strict";var o=n(0),i=n(1464),a=n(13),r=(function(){function e(e,t,n,a){var r=this;this.resolver=e,this.renderer=t,this.viewContainerRef=n,this.parentForm=a,this.loadingTemplate=null,this.loadingText="Loading",this.tabToSelect=!0,this.matchFormatted=!1,this.zIndex="1",this.ngModelChange=new o.EventEmitter,this.valueChanged=new o.EventEmitter,this.showAutoCompleteDropdown=function(e){r.hideAutoCompleteDropdown(),r.scheduledBlurHandler=null;var t=r.resolver.resolveComponentFactory(i.NguiAutoCompleteComponent);r.componentRef=r.viewContainerRef.createComponent(t);var n=r.componentRef.instance;n.showInputTag=!1,n.pathToData=r.pathToData,n.minChars=r.minChars,n.source=r.source,n.placeholder=r.autoCompletePlaceholder,n.acceptUserInput=r.acceptUserInput,n.maxNumList=parseInt(r.maxNumList,10),n.loadingText=r.loadingText,n.loadingTemplate=r.loadingTemplate,n.listFormatter=r.listFormatter,n.blankOptionText=r.blankOptionText,n.noMatchFoundText=r.noMatchFoundText,n.tabToSelect=r.tabToSelect,n.matchFormatted=r.matchFormatted,n.valueSelected.subscribe(r.selectNewValue),r.acDropdownEl=r.componentRef.location.nativeElement,r.acDropdownEl.style.display="none","INPUT"!==r.el.tagName&&r.acDropdownEl&&r.inputEl.parentElement.insertBefore(r.acDropdownEl,r.inputEl.nextSibling),r.revertValue=void 0!==r.ngModel?r.ngModel:r.inputEl.value,setTimeout((function(){n.reloadList(r.inputEl.value),r.styleAutoCompleteDropdown(),n.dropdownVisible=!0}))},this.hideAutoCompleteDropdown=function(e){if(r.componentRef){var t=void 0,n=void 0!==r.revertValue;r.inputEl&&n&&r.acceptUserInput===!1&&(t=r.componentRef.instance.findItemFromSelectValue(r.inputEl.value)),r.componentRef.destroy(),r.componentRef=void 0,r.inputEl&&n&&r.acceptUserInput===!1&&null===t&&r.selectNewValue(r.revertValue)}},this.styleAutoCompleteDropdown=function(){if(r.componentRef){var e=(r.componentRef.instance,r.el.getBoundingClientRect(),r.inputEl.getBoundingClientRect()),t=e.bottom+100>window.innerHeight;r.acDropdownEl.style.width=e.width+"px",r.acDropdownEl.style.position="absolute",r.acDropdownEl.style.zIndex=r.zIndex,r.acDropdownEl.style.left="0",r.acDropdownEl.style.display="inline-block",t?r.acDropdownEl.style.bottom=e.height+"px":r.acDropdownEl.style.top=e.height+"px"}},this.selectNewValue=function(e){e&&"object"==typeof e&&(e=r.setToStringFunction(e)),r.inputEl&&(r.inputEl.value=""+e);var t=e;r.selectValueOf&&e[r.selectValueOf]&&(t=e[r.selectValueOf]),(r.parentForm&&r.formControlName||r.extFormControl)&&t&&r.formControl.patchValue(t),t!==r.ngModel&&r.ngModelChange.emit(t),r.valueChanged.emit(t),r.hideAutoCompleteDropdown()},this.keydownEventHandler=function(e){if(r.componentRef){r.componentRef.instance.inputElKeyHandler(e)}},this.inputEventHandler=function(e){if(r.componentRef){var t=r.componentRef.instance;t.dropdownVisible=!0,t.reloadListInDelay(e)}else r.showAutoCompleteDropdown()},this.el=this.viewContainerRef.element.nativeElement}return e.prototype.ngOnInit=function(){var e=this;document.addEventListener("click",(function(t){e.scheduledBlurHandler&&(e.scheduledBlurHandler(),e.scheduledBlurHandler=null)})),this.wrapperEl=document.createElement("div"),this.wrapperEl.className="ngui-auto-complete-wrapper",this.wrapperEl.style.position="relative",this.el.parentElement.insertBefore(this.wrapperEl,this.el.nextSibling),this.wrapperEl.appendChild(this.el),this.parentForm&&this.formControlName?this.parentForm.form?this.formControl=this.parentForm.form.get(this.formControlName):this.parentForm instanceof a.FormGroupName&&(this.formControl=this.parentForm.control.controls[this.formControlName]):this.extFormControl&&(this.formControl=this.extFormControl),this.ngModel?this.selectNewValue(this.ngModel):this.formControl&&this.formControl.value&&this.selectNewValue(this.formControl.value[this.displayPropertyName])},e.prototype.ngAfterViewInit=function(){var e=this;this.inputEl="INPUT"===this.el.tagName?this.el:this.el.querySelector("input"),this.inputEl.addEventListener("focus",(function(t){return e.showAutoCompleteDropdown(t)})),this.inputEl.addEventListener("blur",(function(t){e.scheduledBlurHandler=e.hideAutoCompleteDropdown})),this.inputEl.addEventListener("keydown",(function(t){return e.keydownEventHandler(t)})),this.inputEl.addEventListener("input",(function(t){return e.inputEventHandler(t)}))},e.prototype.ngOnDestroy=function(){this.componentRef&&this.componentRef.instance.valueSelected.unsubscribe()},e.prototype.ngOnChanges=function(e){e.ngModel&&(this.ngModel=this.setToStringFunction(e.ngModel.currentValue))},e.prototype.setToStringFunction=function(e){if(e&&"object"==typeof e){var t;if("string"==typeof this.valueFormatter){var n=this.valueFormatter.match(/[a-zA-Z0-9_\$]+/g),o=this.valueFormatter;n&&"string"!=typeof e&&n.forEach((function(t){o=o.replace(t,e[t])})),t=o}else t="function"==typeof this.valueFormatter?this.valueFormatter(e):this.displayPropertyName?e[this.displayPropertyName]:"string"==typeof this.listFormatter&&this.listFormatter.match(/^\w+$/)?e[this.listFormatter]:e.value;e.toString=function(){return t}}return e},e.decorators=[{type:o.Directive,args:[{selector:"[auto-complete], [ngui-auto-complete]"}]}],e.ctorParameters=[{type:o.ComponentFactoryResolver},{type:o.Renderer},{type:o.ViewContainerRef},{type:a.ControlContainer,decorators:[{type:o.Optional},{type:o.Host},{type:o.SkipSelf}]}],e.propDecorators={autoCompletePlaceholder:[{type:o.Input,args:["auto-complete-placeholder"]}],source:[{type:o.Input,args:["source"]}],pathToData:[{type:o.Input,args:["path-to-data"]}],minChars:[{type:o.Input,args:["min-chars"]}],displayPropertyName:[{type:o.Input,args:["display-property-name"]}],acceptUserInput:[{type:o.Input,args:["accept-user-input"]}],maxNumList:[{type:o.Input,args:["max-num-list"]}],selectValueOf:[{type:o.Input,args:["select-value-of"]}],loadingTemplate:[{type:o.Input,args:["loading-template"]}],listFormatter:[{type:o.Input,args:["list-formatter"]}],loadingText:[{type:o.Input,args:["loading-text"]}],blankOptionText:[{type:o.Input,args:["blank-option-text"]}],noMatchFoundText:[{type:o.Input,args:["no-match-found-text"]}],valueFormatter:[{type:o.Input,args:["value-formatter"]}],tabToSelect:[{type:o.Input,args:["tab-to-select"]}],matchFormatted:[{type:o.Input,args:["match-formatted"]}],ngModel:[{type:o.Input}],formControlName:[{type:o.Input,args:["formControlName"]}],extFormControl:[{type:o.Input,args:["formControl"]}],zIndex:[{type:o.Input,args:["z-index"]}],ngModelChange:[{type:o.Output}],valueChanged:[{type:o.Output}]},e})();t.NguiAutoCompleteDirective=r},1473:function(e,t,n){"use strict";var o=n(0),i=n(14),a=n(13),r=n(1464),l=n(1470),s=n(1465),d=(function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[s.NguiAutoComplete]}},e.decorators=[{type:o.NgModule,args:[{imports:[i.CommonModule,a.FormsModule],declarations:[r.NguiAutoCompleteComponent,l.NguiAutoCompleteDirective],exports:[r.NguiAutoCompleteComponent,l.NguiAutoCompleteDirective],entryComponents:[r.NguiAutoCompleteComponent]}]}],e.ctorParameters=[],e})();t.NguiAutoCompleteModule=d},1474:function(e,t,n){"use strict";var o=n(1465);t.NguiAutoComplete=o.NguiAutoComplete;var i=n(1473);t.NguiAutoCompleteModule=i.NguiAutoCompleteModule;var a=n(1464);t.NguiAutoCompleteComponent=a.NguiAutoCompleteComponent;var r=n(1470);t.NguiAutoCompleteDirective=r.NguiAutoCompleteDirective},1531:function(e,t,n){"use strict";var o=n(0),i=n(355),a=n(715),r=(n.n(a),n(38)),l=n(356),s=n(1628),d=n(121);n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c}));var u=(function(){function e(e,t){this._userService=e,this._router=t,this.PATH_SERVER=d.a._SERVER,this.loadingIcon=!1}return e.prototype.ngOnInit=function(){this.userData=this.value,this.options={url:this.PATH_SERVER+"&c=user&m=upload_image",params:{user_id:this.userData.id}}},e.prototype.showUserEditModal=function(){this.userEditModal.show()},e.prototype.hideUserEditModal=function(){this.userEditModal.hide()},e.prototype.showUserViewModal=function(){this.userViewModal.show()},e.prototype.hideUserViewModal=function(){this.userViewModal.hide()},e.prototype.showUserDeleteModal=function(){this.userDeleteModal.show()},e.prototype.hideUserDeleteModal=function(){this.userDeleteModal.hide()},e.prototype.onEditUser=function(e){var t=this;this.loadingIcon=!0,this._userService.editUser(e).subscribe((function(e){return alert(e)}),(function(){t.loadingIcon=!1,t.hideUserEditModal(),t._userService.callUpdateTableService()}))},e.prototype.onDeleteUser=function(e){var t=this;this._userService.deleteUser(e).subscribe((function(e){return alert(e)}),(function(){t.hideUserDeleteModal(),t._userService.callUpdateTableService()}))},e.prototype.onSendPasswordToUser=function(e){var t=this;this.loadingIcon=!0,this._userService.sendPasswordToUSer(e).subscribe((function(e){return alert(e)}),(function(){t.loadingIcon=!1,console.log(t.userData)}))},e.prototype.onFileChange=function(e){var t=e.target.files;if(t.length>0){var n=t[0],o=new FormData;o.append("uploadFile",n,n.name),console.log(n.name);var i;this._userService.uploadImage(o).subscribe((function(e){return i=e}),(function(e){return e}),(function(){}))}},e.prototype.handleUpload=function(e){this.loadingIcon=!0,e&&e.response&&(e=JSON.parse(e.response),this.loadingIcon=!1,this.userData.path_user_photo=e.path_user_photo)},__decorate([n.i(o.ViewChild)("userEditModal"),__metadata("design:type",i.d)],e.prototype,"userEditModal",void 0),__decorate([n.i(o.ViewChild)("userViewModal"),__metadata("design:type",i.d)],e.prototype,"userViewModal",void 0),__decorate([n.i(o.ViewChild)("userDeleteModal"),__metadata("design:type",i.d)],e.prototype,"userDeleteModal",void 0),__decorate([n.i(o.Input)(),__metadata("design:type",Object)],e.prototype,"value",void 0),__decorate([n.i(o.Input)(),__metadata("design:type",Object)],e.prototype,"rowData",void 0),e=__decorate([n.i(o.Component)({selector:"actions-user-table",template:n(1746)}),__metadata("design:paramtypes",[l.a,r.b])],e)})(),c=(function(){function e(e,t){var n=this;this._userService=e,this._router=t,this.query="",this.settings={noDataMessage:"No se encontraron registros.",actions:{add:!1,edit:!1,delete:!1},columns:{id:{title:"ID",type:"number",filter:!1},name:{title:"Nombre",type:"string",filter:!1},email:{title:"E-mail",type:"string",filter:!1},phone:{title:"Telefono",type:"string",filter:!1},createdAt:{title:"Creado",type:"date",filter:!1},item:{title:"Acciones",type:"custom",renderComponent:u,filter:!1}}},this.source=new a.LocalDataSource,this.loadingIcon=!1,this._userService.componentMethodCalled$.subscribe((function(){n.loadTable()}))}return e.prototype.ngOnInit=function(){this.userLoggedData=JSON.parse(localStorage.getItem("userData")),this.userData=new s.a(1,this.userLoggedData.office_id,2,"","","","","","",""),this.loadTable()},e.prototype.loadTable=function(){var e=this;this._userService.getUsersByOffice(this.userLoggedData.office_id).subscribe((function(t){return e.users=t}),(function(e){return alert(e)}),(function(){e.users.forEach((function(e){e.item=new s.a(e.id,1,1,e.name,e.email,e.phone,e.path_user_photo,"",e.createdAt,e.path_user_photo)})),e.source.load(e.users)}))},e.prototype.onSearch=function(e){void 0===e&&(e=""),this.source.setFilter([{field:"name",search:e},{field:"email",search:e}],!1)},e.prototype.onAddUser=function(e){var t=this;this.loadingIcon=!0,this._userService.addUser(e).subscribe((function(e){return alert(e)}),(function(){t.loadTable(),t.loadingIcon=!1,t.hideUserAddModal()}))},e.prototype.showUserAddModal=function(){this.userAddModal.show()},e.prototype.hideUserAddModal=function(){this.userData.name="",this.userData.email="",this.userData.phone="",this.userAddModal.hide()},__decorate([n.i(o.ViewChild)("userAddModal"),__metadata("design:type",i.d)],e.prototype,"userAddModal",void 0),e=__decorate([n.i(o.Component)({selector:"users-list",template:n(1747),styles:[".alert-danger { padding: 5px 10px; margin-top: 5px; font-size: 10px}"]}),__metadata("design:paramtypes",[l.a,r.b])],e)})()},1532:function(e,t,n){"use strict";var o=n(0);n.d(t,"a",(function(){return i}));var i=(function(){function e(){}return e=__decorate([n.i(o.Component)({selector:"users",template:"<router-outlet></router-outlet>"}),__metadata("design:paramtypes",[])],e)})()},1628:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o=(function(){function e(e,t,n,o,i,a,r,l,s,d){this.id=e,this.office_id=t,this.rol_id=n,this.name=o,this.email=i,this.phone=a,this.profile_photo=r,this.profile_icon=l,this.createdAt=s,this.path_user_photo=d}return e})()},1629:function(e,t,n){"use strict";var o=n(38),i=n(1532),a=n(1531),r=n(357);n.d(t,"a",(function(){return s}));var l=[{path:"",component:i.a,canActivate:[r.a],children:[{path:"",component:a.b,data:{userRole:["admin"]}},{path:"users_list",component:a.b,data:{userRole:["admin"]}}]}],s=o.a.forChild(l)},1746:function(e,t){e.exports='<button class="btn btn-success btn-icon" type="button" tooltip="Ver" (click)="showUserViewModal()">\n  <i class="ion-search"></i>\n</button>\n\n<button class="btn btn-info btn-icon" type="button" tooltip="Editar" (click)="showUserEditModal()">\n  <i class="ion-edit"></i>\n</button>\n\n<button class="btn btn-danger btn-icon" type="button" tooltip="Eliminar" (click)="showUserDeleteModal()">\n  <i class="ion-trash-a"></i>\n</button>\n\n\n\n<!-- User View Modal -->\n\n<div bsModal #userViewModal="bs-modal" class="modal fade" [config]="{backdrop: \'static\'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" style="line-height: initial;">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close pull-right" aria-label="Close" (click)="hideUserViewModal()">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Ver Usuario</h4>\n      </div>\n      <div class="modal-body">\n\n          <img src="{{userData.path_user_photo}}" class="img-thumbnail img-center" alt="{{userData.name}}" width="304" height="236">\n          <br>\n\n          <form>\n\n            <div class="form-group">\n              <label for="name">Nombre:</label>\n              <input type="text" class="form-control" name=\'name\' [(ngModel)]="userData.name" disabled>\n\n            </div>\n\n            <div class="form-group">\n\n              <label for="email">Email:</label>\n              <input type="text" class="form-control" name=\'email\' [(ngModel)]="userData.email" disabled>\n\n            </div>\n\n            <div class="form-group">\n              <label for="phone1">Telefono:</label>\n              <input type="text" class="form-control" name=\'phone1\' [(ngModel)]="userData.phone" disabled>\n            </div>\n\n            <div class="form-group">\n              <label for="createdAt">Fecha de registro:</label>\n              <input type="text" class="form-control" id="createdAt" name=\'createdAt\' [(ngModel)]="userData.createdAt" disabled>\n            </div>\n\n            <hr>\n\n            <div class="form-group">\n              <button type="button" class="btn btn-danger" (click)="hideUserViewModal()">Cerrar</button>\n            </div>\n\n          </form>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n\n<!-- User Edit Modal -->\n\n<div bsModal #userEditModal="bs-modal" class="modal fade" [config]="{backdrop: \'static\'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" style="line-height: initial;">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close pull-right" aria-label="Close" (click)="hideUserEditModal()">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Editar Usuario</h4>\n      </div>\n      <div class="modal-body">\n\n          <form #userEditForm="ngForm" novalidate style="position: relative;">\n            <!--*ngIf="!loadingSendEmail"-->\n            <div class="overlayDiv" *ngIf="loadingIcon">\n              <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>\n              <span class="sr-only">Loading...</span>\n            </div>\n\n            <img [src]="userData.path_user_photo" class="img-thumbnail img-center" alt={{userData.name}} width="304" height="236">\n            <br>\n\n            <div class="form-group">\n\n\n              <label for="imageUpload" class="btn btn-success labelFileContainer">Seleccionar imagen\n\n                <input type="file" id="imageUpload"\n                     [ng-file-select]="options"\n                     (onUpload)="handleUpload($event)">\n\n              </label>\n\n            </div>\n\n            <div class="form-group">\n              <label for="name">Nombre *</label>\n              <input type="text" class="form-control"  id="name" placeholder="Nombre y apellidos" name="name" [(ngModel)]="userData.name" required #name="ngModel">\n\n              <div [hidden]="name.valid || name.pristine" class="alert alert-danger">\n                * Nombre es requerido\n              </div>\n\n            </div>\n\n            <div class="form-group">\n              <label for="name">Cambiar contraseña:  </label>\n              <button class="btn btn-info" (click)="onSendPasswordToUser(userData.id)" *ngIf="!loadingIcon"> Enviar contraseña</button>\n\n            </div>\n\n            <div class="form-group">\n\n              <label for="email">Email *</label>\n              <input type="text" class="form-control" id="email" placeholder="Correo electronico" name="email" [(ngModel)]="userData.email" required #email="ngModel">\n\n              <div [hidden]="email.valid || email.pristine" class="alert alert-danger">\n                * Email es requerido\n              </div>\n\n            </div>\n\n            <div class="form-group">\n              <label for="phone">Telefono:</label>\n              <input type="text" class="form-control" id="phone" placeholder="Telefono celular" name="phone" [(ngModel)]="userData.phone">\n            </div>\n\n            <hr>\n\n            <div class="form-group">\n              <button type="button" class="btn btn-success confirm-btn" [disabled]="!userEditForm.form.valid" (click)="onEditUser(userData)">Guardar</button>\n              <button type="button" class="btn btn-danger" (click)="hideUserEditModal()">Cancelar</button>\n            </div>\n\n          </form>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n\n<!-- Delete modal -->\n<div bsModal #userDeleteModal="bs-modal" class="modal fade" [config]="{backdrop: \'static\'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" style="line-height: initial;">\n  <div class="modal-dialog modal-sm">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button class="close" aria-label="Close" (click)="hideUserDeleteModal()">\n          <span aria-hidden="true">&times;</span>\n        </button>\n        <h4 class="modal-title">Eliminar registro</h4>\n      </div>\n      <div class="modal-body">\n        ¿Esta seguro que desea eliminar a <strong>{{userData.name}}</strong>?\n      </div>\n      <div class="modal-footer">\n\n        <button class="btn btn-success" (click)="onDeleteUser(userData.id)">Aceptar</button>\n        <button class="btn btn-danger confirm-btn" (click)="hideUserDeleteModal()">Cancelar</button>\n\n      </div>\n    </div>\n  </div>\n</div>\n\n'},1747:function(e,t){e.exports='<div class="widgets">\n\n  <div class="row">\n\n    <div class="col-md-10">\n\n      <div class="form-group">\n        <label class="col-sm-3 form-control-label">Busqueda</label>\n        <div class="col-sm-9">\n          <input #search class="form-control" type="text" placeholder="Buscar..." (keyup)="onSearch(search.value)">\n        </div>\n      </div>\n\n    </div>\n\n    <div class="col-md-2">\n\n      <button class="btn btn-success" (click)="showUserAddModal()">\n        <i class="ion-plus-round"></i>  Agregar usuario\n      </button>\n    </div>\n\n  </div>\n\n  <br>\n\n  <div class="row">\n    <ng2-smart-table [settings]="settings" [source]="source"></ng2-smart-table>\n  </div>\n\n\n\n  <!-- User Add Modal -->\n\n  <div bsModal #userAddModal="bs-modal" class="modal fade" [config]="{backdrop: \'static\'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true" style="line-height: initial;">\n    <div class="modal-dialog modal-lg">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="close pull-right" aria-label="Close" (click)="hideUserAddModal()">\n            <span aria-hidden="true">&times;</span>\n          </button>\n          <h4 class="modal-title">Agregar Usuario</h4>\n        </div>\n        <div class="modal-body">\n\n          <form #userAddForm="ngForm" novalidate style="position: relative">\n\n            <div class="overlayDiv" *ngIf="loadingIcon">\n              <i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>\n              <span class="sr-only">Loading...</span>\n            </div>\n\n            <div class="form-group">\n              <label for="name">Nombre: *</label>\n              <input type="text" class="form-control"  id="name" placeholder="Nombre y apellidos" name="name" [(ngModel)]="userData.name" required #name="ngModel">\n\n              <div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger">\n                * Nombre es requerido\n              </div>\n\n            </div>\n\n            <div class="form-group">\n\n              <label for="email">Email: *</label>\n              <input type="text" class="form-control" id="email" placeholder="agente@masinmobiliaria.pe" name="email" [(ngModel)]="userData.email" required #email="ngModel">\n\n              <div *ngIf="email.errors && (email.dirty || email.touched)" class="alert alert-danger">\n                * Email es requerido\n              </div>\n\n            </div>\n\n            <div class="form-group">\n              <label for="phone">Telefono: *</label>\n              <input type="text" class="form-control" id="phone" placeholder="Telefono celular" name="phone" [(ngModel)]="userData.phone" required #phone="ngModel">\n\n              <div *ngIf="phone.errors && (phone.dirty || phone.touched)" class="alert alert-danger">\n                * Telefono es requerido\n              </div>\n\n            </div>\n\n            <hr>\n\n            <div class="form-group">\n              <button type="button" class="btn btn-success confirm-btn" [disabled]="!userAddForm.form.valid" (click)="onAddUser(userData)">Guardar</button>\n              <button type="button" class="btn btn-danger" (click)="hideUserAddModal()">Cancelar</button>\n            </div>\n\n          </form>\n\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n\n</div>\n'}});